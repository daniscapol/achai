const s="http://localhost:3001/api";async function r(e,t={}){try{const a=await fetch(`${s}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!a.ok){const n=await a.json().catch(()=>({}));throw new Error(n.message||`API request failed with status ${a.status}`)}return await a.json()}catch(a){throw console.error(`API Error (${e}):`,a),a}}const o={async getTutorials(e={}){const t=new URLSearchParams(e).toString();return r(`/tutorials${t?`?${t}`:""}`)},async getTutorialByIdOrSlug(e){return r(`/tutorials/${e}`)},async getFeaturedTutorials(e=6){return r(`/tutorials/featured?limit=${e}`)},async getTutorialCategories(){return r("/tutorials/categories")},async getRecentTutorials(e=5){return r(`/tutorials/recent?limit=${e}`)},async getPopularTutorials(e=5){return r(`/tutorials/popular?limit=${e}`)},async searchTutorials(e,t=1,a=20){return r(`/tutorials?search=${encodeURIComponent(e)}&page=${t}&limit=${a}`)},async filterTutorialsByCategory(e,t=1,a=20){return r(`/tutorials?category=${encodeURIComponent(e)}&page=${t}&limit=${a}`)},admin:{async createTutorial(e,t){return r("/tutorials",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(e)})},async updateTutorial(e,t,a){return r(`/tutorials/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(t)})},async deleteTutorial(e,t){return r(`/tutorials/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})}}},i={async getNewsArticles(e={}){const t=new URLSearchParams(e).toString();return r(`/news${t?`?${t}`:""}`)},async getNewsArticleByIdOrSlug(e){return r(`/news/${e}`)},async getFeaturedNews(e=6){return r(`/news/featured?limit=${e}`)},async getNewsCategories(){return r("/news/categories")},async getRecentNews(e=5){return r(`/news/recent?limit=${e}`)},async getPopularNews(e=5){return r(`/news/popular?limit=${e}`)},async searchNews(e,t=1,a=20){return r(`/news?search=${encodeURIComponent(e)}&page=${t}&limit=${a}`)},async filterNewsByCategory(e,t=1,a=20){return r(`/news?category=${encodeURIComponent(e)}&page=${t}&limit=${a}`)},admin:{async createNewsArticle(e,t){return r("/news",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(e)})},async updateNewsArticle(e,t,a){return r(`/news/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(t)})},async deleteNewsArticle(e,t){return r(`/news/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})}}};export{i as newsApi,o as tutorialApi};
